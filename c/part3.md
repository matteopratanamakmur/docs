# part3. a ファイルについて

## アジェンダ
- a ファイルとは
- a ファイルを作ってみる
- a ファイルを呼び出す
- ldd コマンドでライブラリ依存を確認

## 内容
### 1. a ファイルとは
ライブラリには、
- 静的ライブラリ
- 共有ライブラリ（動的ライブラリ）

の二種類存在するが、a ファイルは静的ライブラリのこと

コンパイル時に実行ファイルにライブラリを埋め込む形となるため、共有ライブラリと比べて容量が大きくなる。  
（共有ライブラリの場合には、実行時にライブラリを埋め込む）

### 2. a ファイルを作ってみる
```
gcc -c ...
```
でオブジェクトファイルを作成した上で、
```
ar r ...
```
により「.a」ファイルを作成する。

### 3. a ファイルを呼び出す
```
gcc -L<a ファイルの置き場所> ... -l<ライブラリ名> 
```
という形で、build 時に「-l / -L」で「a ファイルの名前 / 場所」を指定することで呼び出せる

- ライブラリ名は、a ファイルから「lib / 拡張子」を除いた部分
- -l オプションは、コンパイルするファイルの後ろにおく

### 4. ldd コマンドでライブラリ依存を確認
ldd コマンドを利用することで、ライブラリの依存関係を確認することができる

## まとめ
- a ファイルとは、静的ライブラリのこと
- ar コマンドにより、オブジェクトファイルを指定して作成する
- 「-l / -L」により、a ファイルを呼び出せる（利用できる）
